{"ast":null,"code":"// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithPopup, signInWithEmailAndPassword, signOut, onAuthStateChanged, createUserWithEmailAndPassword, GoogleAuthProvider, FacebookAuthProvider } from 'firebase/auth';\nimport { getFirestore, doc, getDoc, setDoc, collection, writeBatch, query, getDocs } from 'firebase/firestore'; // TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD4r88vRk2kugNBbQ6MbPlBCsx8Q9Y-Fl0',\n  authDomain: 'clothing-2d666.firebaseapp.com',\n  projectId: 'clothing-2d666',\n  storageBucket: 'clothing-2d666.appspot.com',\n  messagingSenderId: '481215764667',\n  appId: '1:481215764667:web:34f8427a84dc25887b319e'\n}; // Initialize Firebase\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst googleProvider = new GoogleAuthProvider();\nconst facebookProvider = new FacebookAuthProvider();\ngoogleProvider.setCustomParameters({\n  prompt: 'select_account'\n});\nfacebookProvider.setCustomParameters({\n  prompt: 'select_account'\n});\nexport const auth = getAuth();\nexport const signInWithGooglePopup = () => signInWithPopup(auth, googleProvider);\nexport const signInWithFacebookPopup = () => signInWithPopup(auth, facebookProvider);\nexport const db = getFirestore();\nexport const addCollectionAndDocuments = async (collectionkey, objectsToAdd) => {\n  const collectionRef = collection(db, collectionkey);\n  const batch = writeBatch(db);\n  objectsToAdd.forEach(object => {\n    const docRef = doc(collectionRef, object.title.toLowerCase());\n    batch.set(docRef, object);\n  });\n  await batch.commit();\n  console.log('done');\n};\nexport const getCategoriesAndDocuments = async () => {\n  const collectionRef = collection(db, 'categories');\n  const q = query(collectionRef);\n  const querySnapshot = await getDocs(q);\n  const categoryMap = querySnapshot.docs.reduce((acc, docSnapshot) => {\n    const {\n      title,\n      items\n    } = docSnapshot.data();\n    acc[title.toLowerCase()] = items;\n    return acc;\n  }, {});\n  return categoryMap;\n};\nexport const createUserDocumentFromAuth = async userAuth => {\n  const userDocRef = doc(db, 'users', userAuth.uid);\n  const userSnapshot = await getDoc(userDocRef);\n\n  if (!userSnapshot.exists()) {\n    const {\n      displayName,\n      email\n    } = userAuth;\n    const createdAt = new Date();\n\n    try {\n      await setDoc(userDocRef, {\n        displayName,\n        email,\n        createdAt\n      });\n    } catch (error) {\n      console.log('error creating user', error.message);\n    }\n  }\n\n  return userDocRef;\n};\nexport const createAuthUserWithEmailAndPassword = async (email, password) => {\n  if (!email || !password) return;\n  return createUserWithEmailAndPassword(auth, email, password);\n};\nexport const signInUserWithEmailAndPassword = async (email, password) => {\n  if (!email || !password) return;\n  return signInWithEmailAndPassword(auth, email, password);\n};\nexport const signOutUser = async () => await signOut(auth);\nexport const onAuthStateChangedListener = callback => onAuthStateChanged(auth, callback);","map":{"version":3,"names":["initializeApp","getAuth","signInWithPopup","signInWithEmailAndPassword","signOut","onAuthStateChanged","createUserWithEmailAndPassword","GoogleAuthProvider","FacebookAuthProvider","getFirestore","doc","getDoc","setDoc","collection","writeBatch","query","getDocs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseApp","googleProvider","facebookProvider","setCustomParameters","prompt","auth","signInWithGooglePopup","signInWithFacebookPopup","db","addCollectionAndDocuments","collectionkey","objectsToAdd","collectionRef","batch","forEach","object","docRef","title","toLowerCase","set","commit","console","log","getCategoriesAndDocuments","q","querySnapshot","categoryMap","docs","reduce","acc","docSnapshot","items","data","createUserDocumentFromAuth","userAuth","userDocRef","uid","userSnapshot","exists","displayName","email","createdAt","Date","error","message","createAuthUserWithEmailAndPassword","password","signInUserWithEmailAndPassword","signOutUser","onAuthStateChangedListener","callback"],"sources":["/usr/local/bin/React/clothing/ClothingSite/src/utils/firebase.util.jsx"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app'\nimport {\n  getAuth,\n  signInWithPopup,\n  signInWithEmailAndPassword,\n  signOut,\n  onAuthStateChanged,\n  createUserWithEmailAndPassword,\n  GoogleAuthProvider,\n  FacebookAuthProvider,\n} from 'firebase/auth'\nimport {\n  getFirestore,\n  doc,\n  getDoc,\n  setDoc,\n  collection,\n  writeBatch,\n  query,\n  getDocs,\n} from 'firebase/firestore'\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD4r88vRk2kugNBbQ6MbPlBCsx8Q9Y-Fl0',\n  authDomain: 'clothing-2d666.firebaseapp.com',\n  projectId: 'clothing-2d666',\n  storageBucket: 'clothing-2d666.appspot.com',\n  messagingSenderId: '481215764667',\n  appId: '1:481215764667:web:34f8427a84dc25887b319e',\n}\n\n// Initialize Firebase\nconst firebaseApp = initializeApp(firebaseConfig)\nconst googleProvider = new GoogleAuthProvider()\nconst facebookProvider = new FacebookAuthProvider()\n\ngoogleProvider.setCustomParameters({\n  prompt: 'select_account',\n})\nfacebookProvider.setCustomParameters({\n  prompt: 'select_account',\n})\nexport const auth = getAuth()\nexport const signInWithGooglePopup = () => signInWithPopup(auth, googleProvider)\n\nexport const signInWithFacebookPopup = () =>\n  signInWithPopup(auth, facebookProvider)\n\nexport const db = getFirestore()\n\nexport const addCollectionAndDocuments = async (\n  collectionkey,\n  objectsToAdd\n) => {\n  const collectionRef = collection(db, collectionkey)\n  const batch = writeBatch(db)\n  objectsToAdd.forEach((object) => {\n    const docRef = doc(collectionRef, object.title.toLowerCase())\n    batch.set(docRef, object)\n  })\n  await batch.commit()\n  console.log('done')\n}\nexport const getCategoriesAndDocuments = async () => {\n  const collectionRef = collection(db, 'categories')\n  const q = query(collectionRef)\n  const querySnapshot = await getDocs(q)\n  const categoryMap = querySnapshot.docs.reduce((acc, docSnapshot) => {\n    const { title, items } = docSnapshot.data()\n    acc[title.toLowerCase()] = items\n    return acc\n  }, {})\n  return categoryMap\n}\n\nexport const createUserDocumentFromAuth = async (userAuth) => {\n  const userDocRef = doc(db, 'users', userAuth.uid)\n\n  const userSnapshot = await getDoc(userDocRef)\n\n  if (!userSnapshot.exists()) {\n    const { displayName, email } = userAuth\n    const createdAt = new Date()\n\n    try {\n      await setDoc(userDocRef, { displayName, email, createdAt })\n    } catch (error) {\n      console.log('error creating user', error.message)\n    }\n  }\n  return userDocRef\n}\nexport const createAuthUserWithEmailAndPassword = async (email, password) => {\n  if (!email || !password) return\n  return createUserWithEmailAndPassword(auth, email, password)\n}\n\nexport const signInUserWithEmailAndPassword = async (email, password) => {\n  if (!email || !password) return\n  return signInWithEmailAndPassword(auth, email, password)\n}\nexport const signOutUser = async () => await signOut(auth)\n\nexport const onAuthStateChangedListener = (callback) =>\n  onAuthStateChanged(auth, callback)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}