{"ast":null,"code":"// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithPopup, signInWithEmailAndPassword, signOut, onAuthStateChanged, createUserWithEmailAndPassword, GoogleAuthProvider, FacebookAuthProvider } from 'firebase/auth';\nimport { getFirestore, doc, getDoc, setDoc, collection, writeBatch } from 'firebase/firestore'; // TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD4r88vRk2kugNBbQ6MbPlBCsx8Q9Y-Fl0',\n  authDomain: 'clothing-2d666.firebaseapp.com',\n  projectId: 'clothing-2d666',\n  storageBucket: 'clothing-2d666.appspot.com',\n  messagingSenderId: '481215764667',\n  appId: '1:481215764667:web:34f8427a84dc25887b319e'\n}; // Initialize Firebase\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst googleProvider = new GoogleAuthProvider();\nconst facebookProvider = new FacebookAuthProvider();\ngoogleProvider.setCustomParameters({\n  prompt: 'select_account'\n});\nfacebookProvider.setCustomParameters({\n  prompt: 'select_account'\n});\nexport const auth = getAuth();\nexport const signInWithGooglePopup = () => signInWithPopup(auth, googleProvider);\nexport const signInWithFacebookPopup = () => signInWithPopup(auth, facebookProvider);\nexport const db = getFirestore();\nexport const addCollectionAndDocuments = async (collectionkey, objectsToAdd) => {\n  const collectionRef = collection(db, collectionkey);\n  const batch = writeBatch(db);\n  objectsToAdd.forEach(object => {\n    const docRef = doc(collectionRef, object.title.toLowerCase());\n    batch.set(docRef, object);\n  });\n  await batch.commit();\n  console.log('done');\n};\nexport const createUserDocumentFromAuth = async userAuth => {\n  const userDocRef = doc(db, 'users', userAuth.uid);\n  const userSnapshot = await getDoc(userDocRef);\n\n  if (!userSnapshot.exists()) {\n    const {\n      displayName,\n      email\n    } = userAuth;\n    const createdAt = new Date();\n\n    try {\n      await setDoc(userDocRef, {\n        displayName,\n        email,\n        createdAt\n      });\n    } catch (error) {\n      console.log('error creating user', error.message);\n    }\n  }\n\n  return userDocRef;\n};\nexport const createAuthUserWithEmailAndPassword = async (email, password) => {\n  if (!email || !password) return;\n  return createUserWithEmailAndPassword(auth, email, password);\n};\nexport const signInUserWithEmailAndPassword = async (email, password) => {\n  if (!email || !password) return;\n  return signInWithEmailAndPassword(auth, email, password);\n};\nexport const signOutUser = async () => await signOut(auth);\nexport const onAuthStateChangedListener = callback => onAuthStateChanged(auth, callback);","map":{"version":3,"names":["initializeApp","getAuth","signInWithPopup","signInWithEmailAndPassword","signOut","onAuthStateChanged","createUserWithEmailAndPassword","GoogleAuthProvider","FacebookAuthProvider","getFirestore","doc","getDoc","setDoc","collection","writeBatch","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseApp","googleProvider","facebookProvider","setCustomParameters","prompt","auth","signInWithGooglePopup","signInWithFacebookPopup","db","addCollectionAndDocuments","collectionkey","objectsToAdd","collectionRef","batch","forEach","object","docRef","title","toLowerCase","set","commit","console","log","createUserDocumentFromAuth","userAuth","userDocRef","uid","userSnapshot","exists","displayName","email","createdAt","Date","error","message","createAuthUserWithEmailAndPassword","password","signInUserWithEmailAndPassword","signOutUser","onAuthStateChangedListener","callback"],"sources":["/usr/local/bin/React/clothing/ClothingSite/src/utils/firebase.util.jsx"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app'\nimport {\n  getAuth,\n  signInWithPopup,\n  signInWithEmailAndPassword,\n  signOut,\n  onAuthStateChanged,\n  createUserWithEmailAndPassword,\n  GoogleAuthProvider,\n  FacebookAuthProvider,\n} from 'firebase/auth'\nimport {\n  getFirestore,\n  doc,\n  getDoc,\n  setDoc,\n  collection,\n  writeBatch,\n} from 'firebase/firestore'\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD4r88vRk2kugNBbQ6MbPlBCsx8Q9Y-Fl0',\n  authDomain: 'clothing-2d666.firebaseapp.com',\n  projectId: 'clothing-2d666',\n  storageBucket: 'clothing-2d666.appspot.com',\n  messagingSenderId: '481215764667',\n  appId: '1:481215764667:web:34f8427a84dc25887b319e',\n}\n\n// Initialize Firebase\nconst firebaseApp = initializeApp(firebaseConfig)\nconst googleProvider = new GoogleAuthProvider()\nconst facebookProvider = new FacebookAuthProvider()\n\ngoogleProvider.setCustomParameters({\n  prompt: 'select_account',\n})\nfacebookProvider.setCustomParameters({\n  prompt: 'select_account',\n})\nexport const auth = getAuth()\nexport const signInWithGooglePopup = () => signInWithPopup(auth, googleProvider)\n\nexport const signInWithFacebookPopup = () =>\n  signInWithPopup(auth, facebookProvider)\n\nexport const db = getFirestore()\n\nexport const addCollectionAndDocuments = async (\n  collectionkey,\n  objectsToAdd\n) => {\n  const collectionRef = collection(db, collectionkey)\n  const batch = writeBatch(db)\n  objectsToAdd.forEach((object) => {\n    const docRef = doc(collectionRef, object.title.toLowerCase())\n    batch.set(docRef, object)\n  })\n  await batch.commit()\n  console.log('done')\n}\n\nexport const createUserDocumentFromAuth = async (userAuth) => {\n  const userDocRef = doc(db, 'users', userAuth.uid)\n\n  const userSnapshot = await getDoc(userDocRef)\n\n  if (!userSnapshot.exists()) {\n    const { displayName, email } = userAuth\n    const createdAt = new Date()\n\n    try {\n      await setDoc(userDocRef, { displayName, email, createdAt })\n    } catch (error) {\n      console.log('error creating user', error.message)\n    }\n  }\n  return userDocRef\n}\nexport const createAuthUserWithEmailAndPassword = async (email, password) => {\n  if (!email || !password) return\n  return createUserWithEmailAndPassword(auth, email, password)\n}\n\nexport const signInUserWithEmailAndPassword = async (email, password) => {\n  if (!email || !password) return\n  return signInWithEmailAndPassword(auth, email, password)\n}\nexport const signOutUser = async () => await signOut(auth)\n\nexport const onAuthStateChangedListener = (callback) =>\n  onAuthStateChanged(auth, callback)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}